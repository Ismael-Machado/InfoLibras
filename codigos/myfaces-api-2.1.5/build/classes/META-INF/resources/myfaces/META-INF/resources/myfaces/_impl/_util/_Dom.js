_MF_SINGLTN(_PFX_UTIL+"_Dom",Object,{TABLE_ELEMS:{"thead":1,"tbody":1,"tr":1,"th":1,"td":1,"tfoot":1},_Lang:myfaces._impl._util._Lang,_RT:myfaces._impl.core._Runtime,_dummyPlaceHolder:null,constructor_:function(){},runCss:function(I,A){var G=document.styleSheets,C=[],E="undefined",H=this._Lang.hitch(this,function(K,J){var L=document.createElement("style");L.setAttribute("rel",K.getAttribute("rel")||"stylesheet");L.setAttribute("type",K.getAttribute("type")||"text/css");document.getElementsByTagName("head")[0].appendChild(L);if(window.attachEvent&&!this._RT.isOpera&&E!=typeof L.styleSheet&&E!=L.styleSheet.cssText){L.styleSheet.cssText=J;}else{L.appendChild(document.createTextNode(J));}}),F=this._Lang.hitch(this,function(M){var P=this._Lang.equalsIgnoreCase;var L=M.tagName;if(L&&P(L,"link")&&P(M.getAttribute("type"),"text/css")){H(M,"@import url('"+M.getAttribute("href")+"');");}else{if(L&&P(L,"style")&&P(M.getAttribute("type"),"text/css")){var N=[];var O=M.childNodes;if(O){var J=O.length;for(var K=0;K<J;K++){N.push(O[K].innerHTML||O[K].data);}}else{if(M.innerHTML){N.push(M.innerHTML);}}H(M,N.join(""));}}});try{var D=this.findByTagNames(I,{"link":1,"style":1},true);if(D==null){return ;}for(var B=0;B<D.length;B++){F(D[B]);}}finally{F=null;H=null;}},deleteScripts:function(B){if(!B||!B.length){return ;}var A=B.length;for(var C=0;C<A;C++){var D=B[C];var E=D.getAttribute("src");if(E&&E.length>0&&(E.indexOf("/jsf.js")!=-1||E.indexOf("/jsf-uncompressed.js")!=-1)){continue;}this.deleteItem(D);}},runScripts:function(G,F){var E=this._Lang;var B=[],C=E.hitch(this,function(J){var H=J.tagName;if(H&&E.equalsIgnoreCase(H,"script")){var K=J.getAttribute("src");if("undefined"!=typeof K&&null!=K&&K.length>0){if((K.indexOf("ln=scripts")==-1&&K.indexOf("ln=javax.faces")==-1)||(K.indexOf("/jsf.js")==-1&&K.indexOf("/jsf-uncompressed.js")==-1)){if(B.length){this._RT.globalEval(B.join("\n"));B=[];}if(!window.jsf){this._RT.loadScriptEval(K,J.getAttribute("type"),false,"UTF-8",false);}}}else{var L=(!F)?J.text:E.serializeChilds(J);var I=true;while(I){I=false;if(L.substring(0,1)==" "){L=L.substring(1);I=true;}if(L.substring(0,4)=="<!--"){L=L.substring(4);I=true;}if(L.substring(0,11)=="//<![CDATA["){L=L.substring(11);I=true;}}B.push(L);}}});try{var A=this.findByTagName(G,"script",true);if(A==null){return ;}for(var D=0;D<A.length;D++){C(A[D]);}if(B.length){this._RT.globalEval(B.join("\n"));}}finally{C=null;}},byIdOrName:function(C){if(!C){return null;}if(!this._Lang.isString(C)){return C;}var B=this.byId(C);if(B){return B;}var A=document.getElementsByName(C);return((A.length==1)?A[0]:null);},nodeIdOrName:function(B){if(B){B=this.byId(B);if(!B){return null;}var A=B.id||B.name;if((B.id==null||B.id=="")&&B.name){A=B.name;if(this.getElementsByName(A).length>1){return null;}}return A;}return null;},deleteItems:function(A){if(!A||!A.length){return ;}for(var B=0;B<A.length;B++){this.deleteItem(A[B]);}},deleteItem:function(B){var A=this.byId(B);if(!A){throw this._Lang.makeException(null,null,this._nameSpace,"deleteItem","_Dom.deleteItem  Unknown Html-Component-ID: "+B);}this._removeNode(A,false);},createElement:function(D,B){var A=document.createElement(D);if(B){for(var C in B){this.setAttribute(A,C,B[C]);}}return A;},isDomCompliant:function(){return true;},insertBefore:function(F,C){this._assertStdParams(F,C,"insertBefore");C=this._Lang.trim(C);if(C===""){return null;}var G=this._buildEvalNodes(F,C),B=F,A=F.parentNode,D=[];for(var E=G.length-1;E>=0;E--){B=A.insertBefore(G[E],B);D.push(B);}D=D.reverse();this._eval(D);return D;},insertAfter:function(F,C){this._assertStdParams(F,C,"insertAfter");C=this._Lang.trim(C);if(C===""){return null;}var G=this._buildEvalNodes(F,C),B=F,A=F.parentNode,D=[];for(var E=0;E<G.length;E++){if(B.nextSibling){B=A.insertBefore(G[E],B.nextSibling);}else{B=A.appendChild(G[E]);}D.push(B);}this._eval(D);return D;},outerHTML:function(C,A){this._assertStdParams(C,A,"outerHTML");A=this._Lang.trim(A);if(A!==""){var B=null;if(this.isDomCompliant()){B=this._outerHTMLCompliant(C,A);}else{B=this._outerHTMLNonCompliant(C,A);}this._eval(B);return B;}this._removeNode(C,false);return null;},detach:function(A){var B=[];if("undefined"!=typeof A.nodeType){if(A.parentNode){B.push(A.parentNode.removeChild(A));}else{B.push(A);}return B;}var D=this._Lang.objToArray(A);for(var C=0;C<D.length;C++){B.push(D[C].parentNode.removeChild(D[C]));}return B;},_outerHTMLCompliant:function(C,A){var D=this._buildEvalNodes(C,A);if(D.length==1){var B=D[0];C.parentNode.replaceChild(B,C);return B;}else{return this.replaceElements(C,D);}},_isTable:function(A){return"table"==(A.nodeName||A.tagName).toLowerCase();},_isTableElement:function(A){return !!this.TABLE_ELEMS[(A.nodeName||A.tagName).toLowerCase()];},_buildNodesCompliant:function(A){var B=this.getDummyPlaceHolder();B.innerHTML=A;return this._Lang.objToArray(B.childNodes);},_buildTableNodes:function(G,C){var A=(G.nodeName||G.tagName).toLowerCase(),B=document.createElement("div");var D=A;var H=0;while(D!="table"){G=G.parentNode;D=(G.nodeName||G.tagName).toLowerCase();H++;}var F=document.createElement("div");if(A=="td"){F.innerHTML="<table><tbody><tr>"+C+"</tr></tbody></table>";}else{F.innerHTML="<table>"+C+"</table>";}for(var E=0;E<H;E++){F=F.childNodes[0];}return this.detach(F.childNodes);},_removeChildNodes:function(B,A){if(!B){return ;}B.innerHTML="";},_removeNode:function(C,B){if(!C){return ;}var A=C.parentNode;if(A){A.removeChild(C);}return ;},_buildEvalNodes:function(B,A){var C=null;if(this._isTableElement(B)){C=this._buildTableNodes(B,A);}else{C=(this.isDomCompliant())?this._buildNodesCompliant(A):this._buildNodesNonCompliant(A);}return C;},_assertStdParams:function(F,B,C,H){if(!C){throw this._Lang.makeException(null,null,this._nameSpace,"_assertStdParams","Caller must be set for assertion");}var D=this._Lang,A="ERR_MUST_BE_PROVIDED1",E="myfaces._impl._util._Dom.",G=H||["item","markup"];if(!F||!B){D.makeException(null,null,E,""+C,D.getMessage(A,null,E+"."+C,(!F)?H[0]:H[1]));}},_eval:function(C){if(this.isManualScriptEval()){var B=C instanceof Array;if(B&&C.length){for(var A=0;A<C.length;A++){this.runScripts(C[A]);}}else{if(!B){this.runScripts(C);}}}},replaceElement:function(B,A){B.parentNode.insertBefore(A,B);this._removeNode(B,false);},replaceElements:function(F,G){var C=G&&"undefined"!=typeof G.length;if(!C){throw this._Lang.makeException(null,null,this._nameSpace,"replaceElements",this._Lang.getMessage("ERR_REPLACE_EL"));}var A=F.parentNode,D=F.nextSibling,E=this._Lang.objToArray(G);for(var B=0;B<E.length;B++){if(B==0){this.replaceElement(F,E[B]);}else{if(D){A.insertBefore(E[B],D);}else{A.appendChild(E[B]);}}}return E;},findByTagNames:function(C,A){this._assertStdParams(C,A,"findByTagNames",["fragment","tagNames"]);var B=C.nodeType;if(B!=1&&B!=9&&B!=11){return null;}if(C.querySelectorAll){var G=[];for(var E in A){G.push(E);}var D=[];if(C.tagName&&A[C.tagName.toLowerCase()]){D.push(C);}return D.concat(this._Lang.objToArray(C.querySelectorAll(G.join(", "))));}var F=function(H){return H.tagName&&A[H.tagName.toLowerCase()];};try{return this.findAll(C,F,true);}finally{F=null;}},findByTagName:function(C,E){this._assertStdParams(C,E,"findByTagName",["fragment","tagName"]);var D=this._Lang,A=C.nodeType;if(A!=1&&A!=9&&A!=11){return null;}var B=D.objToArray(C.getElementsByTagName(E));if(C.tagName&&D.equalsIgnoreCase(C.tagName,E)){B.unshift(C);}return B;},findByName:function(D,C){this._assertStdParams(D,C,"findByName",["fragment","name"]);var A=D.nodeType;if(A!=1&&A!=9&&A!=11){return null;}var B=this._Lang.objToArray(D.getElementsByName(C));if(D.name==C){B.unshift(D);}return B;},findAll:function(A,B,C){this._Lang.assertType(B,"function");C=!!C;if(document.createTreeWalker&&NodeFilter){return this._iteratorSearchAll(A,B,C);}else{return this._recursionSearchAll(A,B,C);}},_iteratorSearchAll:function(D,B,E){var C=[];if(B(D)){C.push(D);if(!E){return C;}}var A=NodeFilter.FILTER_ACCEPT,F=NodeFilter.FILTER_SKIP,H=NodeFilter.FILTER_REJECT;var G=function(J){var K=(B(J))?A:F;K=(!E&&K==A)?H:K;if(K==A||K==H){C.push(J);}return K;};var I=document.createTreeWalker(D,NodeFilter.SHOW_ELEMENT,G,false);while(I.nextNode()){}return C;},setAttribute:function(B,A,C){this._assertStdParams(B,A,"setAttribute",["fragment","name"]);if(!B.setAttribute){return ;}B.setAttribute(A,C);return ;},fuzzyFormDetection:function(F){var A=document.forms,G=this._Lang;if(!A||!A.length){return null;}else{if(1==A.length&&this._RT.getGlobalConfig("no_portlet_env",false)){return A[0];}}var K=this.byId(F);var J=G.hitch(this,function(L){return(G.equalsIgnoreCase(L.tagName,"form"))?L:(this.html5FormDetection(L)||this.getParent(L,"form"));});if(K){var I=J(K);if(I){return I;}}var D=[];var B=(G.isString(F))?F:F.name;if(!B){return null;}var C=document.getElementsByName(B);if(C){for(var E=0;E<C.length&&D.length<2;E++){var H=J(C[E]);if(H){D.push(H);}}}return(1==D.length)?D[0]:null;},html5FormDetection:function(A){return null;},getParent:function(D,C){if(!D){throw this._Lang.makeException(null,null,this._nameSpace,"getParent",this._Lang.getMessage("ERR_MUST_BE_PROVIDED1",null,"_Dom.getParent","item {DomNode}"));}var B=this._Lang;var A=function(E){return E&&E.tagName&&B.equalsIgnoreCase(E.tagName,C);};try{return this.getFilteredParent(D,A);}finally{A=null;B=null;}},getFilteredParent:function(C,B){this._assertStdParams(C,B,"getFilteredParent",["item","filter"]);var A=(C.parentNode)?C.parentNode:null;while(A&&!B(A)){A=A.parentNode;}return(A)?A:null;},getAttribute:function(B,A){return B.getAttribute(A);},hasAttribute:function(B,A){return this.getAttribute(B,A)?true:false;},concatCDATABlocks:function(C){var A=[];for(var B=0;B<C.childNodes.length;B++){A.push(C.childNodes[B].data);}return A.join("");},isManualScriptEval:function(){return true;},isMultipartCandidate:function(A){return false;},insertFirst:function(B){var A=document.body;if(A.childNodes.length>0){A.insertBefore(B,A.firstChild);}else{A.appendChild(B);}},byId:function(A){return this._Lang.byId(A);},getDummyPlaceHolder:function(){var A=false;if(!this._dummyPlaceHolder){this._dummyPlaceHolder=this.createElement("div");A=true;}return this._dummyPlaceHolder;},getWindowId:function(){return null;}});